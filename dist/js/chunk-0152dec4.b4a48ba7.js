(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0152dec4"],{"0fee":function(e,t,n){},3647:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("5c56"),n("0fee")},"7b7f":function(e,t,n){},"7e88":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container footer"},[n("van-pull-refresh",{attrs:{disabled:""===e.user.token},on:{refresh:e.onTaskRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[n("div",{staticStyle:{overflow:"scroll"}},[e._l(e.tasks,(function(t,a){return n("van-swipe-cell",{key:t.ID,staticClass:"task-cell",attrs:{disabled:t.status===e.TASK_STATUS.cancel||t.status===e.TASK_STATUS.failed},on:{open:e.onSwipeCellOpen,close:e.onSwipeCellClose}},[n("van-cell",{attrs:{title:t.title,value:t.detail,center:"",clickable:""},on:{click:function(t){return e.onTaskClick(a)}}},[n("van-icon",{staticClass:"task-status-icon",class:{active:2===t.status},attrs:{slot:"icon",name:"thumb-circle-o",size:"16"},slot:"icon"})],1),n("template",{slot:"right"},[t.status!==e.TASK_STATUS.cancel?n("van-button",{attrs:{square:"",type:"danger",text:"取消"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.cancel,t.ID)}}}):e._e(),t.status!==e.TASK_STATUS.running?n("van-button",{attrs:{square:"",type:"info",text:"进行中"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.running,t.ID)}}}):e._e(),t.status!==e.TASK_STATUS.complete?n("van-button",{attrs:{square:"",type:"primary",text:"已完成"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.complete,t.ID)}}}):e._e()],1)],2)})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tasks.length,expression:"tasks.length === 0"}],staticClass:"empty"},[e._v("空空如也~")])],2)]),n("van-button",{staticClass:"position-bottom footer",attrs:{type:"primary",size:"large"},on:{click:e.onAddTaskClick}},[e._v("添加任务")])],1)},s=[],i=(n("99af"),n("b0c0"),n("5530")),c=n("ade3"),r=(n("96cf"),n("1da1")),o=n("2b0e"),u=n("ea47"),l=(n("3647"),n("d399")),f=(n("e7e5"),n("2241")),d=(n("e17f"),n("4862")),p=n("93f3"),S=n("afbc"),k=n("2f62"),h=new Date,v=o["a"].extend({name:"task",data:function(){return{isLoading:!1,timerId:0,defaultDate:h,minDate:new Date(h.getTime()-2592e6),maxDate:h,isCalendar:!1,isSwiping:!1,TASK_STATUS:p["i"]}},methods:{onTaskRefresh:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"].viewTasks();case 2:n=t.sent,Object(l["a"])(n.code===p["h"].success?"刷新成功":n.msg),e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},onTaskClick:function(e){this.isSwiping?this.isSwiping=!1:this.$router.push("".concat(S["a"].taskDetail,"/").concat(e))},onSwipeCellOpen:function(){this.isSwiping=!0},onSwipeCellClose:function(){this.isSwiping=!1},onAddTaskClick:function(){this.$router.push(S["a"].addTask)},onSwipeRightClick:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f["a"].confirm({title:p["k"][e]});case 2:return n.next=4,d["a"].updateTaskStatus(t,e);case 4:a=n.sent,Object(l["a"])(a.code===p["h"].success?"更新成功":a.msg);case 6:case"end":return n.stop()}}),n)})))()},getTasks:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].viewTasks();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},created:function(){this.getTasks()},components:Object(c["a"])({},u["a"].name,u["a"]),computed:Object(i["a"])({},Object(k["b"])(["tasks","user"]))}),T=v,g=(n("fef3"),n("2877")),w=Object(g["a"])(T,a,s,!1,null,"2a92cb29",null);t["default"]=w.exports},ea47:function(e,t,n){"use strict";var a=n("2638"),s=n.n(a),i=n("d282"),c=n("ba31"),r=n("b1d2"),o=n("7744"),u=n("34e9"),l=Object(i["a"])("panel"),f=l[0],d=l[1];function p(e,t,n,a){var i=function(){return[n.header?n.header():e(o["a"],{attrs:{icon:t.icon,label:t.desc,title:t.title,value:t.status,valueClass:d("header-value")},class:d("header")}),e("div",{class:d("content")},[n.default&&n.default()]),n.footer&&e("div",{class:[d("footer"),r["d"]]},[n.footer()])]};return e(u["a"],s()([{class:d(),scopedSlots:{default:i}},Object(c["b"])(a,!0)]))}p.props={icon:String,desc:String,title:String,status:String},t["a"]=f(p)},fef3:function(e,t,n){"use strict";var a=n("7b7f"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-0152dec4.b4a48ba7.js.map