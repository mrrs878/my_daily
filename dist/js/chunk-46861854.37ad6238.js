(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46861854"],{"633d":function(e,t,n){"use strict";n("d3b7"),n("96cf");var r=n("1da1"),a=n("79f6"),c=n("0889"),o="".concat(a["a"],"/auth"),s=function(e){return c["a"].post("".concat(o,"/login"),e)},i=function(e){return c["a"].post("".concat(o,"/register"),e)},u=n("d399"),l=(n("e7e5"),n("93f3")),p=n("0613"),f=n("fc60"),m=n("2de2"),h=n("458f"),k=n("2ce0");t["a"]={login:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e);case 3:if(n=t.sent,Object(u["a"])(n.msg),n.code!==l["f"].success){t.next=10;break}return t.next=8,p["a"].dispatch(f["a"].updateUser,n.data);case 8:localStorage.setItem(m["a"].tokenName,n.data.token),Object(k["b"])({type:l["e"].token,msg:n.data.token});case 10:return t.abrupt("return",Promise.resolve(n.code===l["f"].success));case 13:return t.prev=13,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",Promise.resolve(!1));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},logout:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem(m["a"].tokenName),e.next=3,p["a"].dispatch(f["a"].updateUser,new h["a"]);case 3:return e.next=5,p["a"].dispatch(f["a"].updateTasks,[]);case 5:return e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})))()},register:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i(e);case 3:return n=t.sent,Object(u["a"])(n.msg),t.abrupt("return",Promise.resolve(n.code===l["f"].success));case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",Promise.resolve(!1));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},c2b4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("van-nav-bar",{attrs:{"left-text":"设置","left-arrow":""},on:{"click-left":e.onNavBarClickLeft}}),n("van-cell",{attrs:{title:"清除缓存","is-link":""},on:{click:e.onCleanCacheClick}}),n("van-cell",{attrs:{title:"任务提醒灵敏度",value:"1min","is-link":""},on:{click:e.onSetRefreshRateCellClick}}),n("br"),n("br"),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.onLogoutClick}},[e._v("退出登录")]),n("van-popup",{attrs:{closeable:"","close-icon-position":"top-left",round:"",position:"bottom"},model:{value:e.isSetRatePopup,callback:function(t){e.isSetRatePopup=t},expression:"isSetRatePopup"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"选择刷新间隔(min)",columns:e.refreshRates},on:{confirm:e.onSetRefreshCfmClick}})],1)],1)},a=[],c=(n("ac1f"),n("5319"),n("96cf"),n("1da1")),o=n("2b0e"),s=n("2241"),i=(n("e17f"),n("633d")),u=n("afbc"),l=n("2ce0"),p=n("93f3"),f=o["a"].extend({name:"setting",data:function(){return{isSetRatePopup:!1,refreshRates:[1,5,10]}},methods:{cleanCache:function(){},onCleanCacheClick:function(){s["a"].confirm({title:"提示",message:"确定清除缓存吗?"}).then(this.cleanCache).catch((function(){}))},onSetRefreshRateCellClick:function(){this.isSetRatePopup=!0},onSetRefreshCfmClick:function(e){this.isSetRatePopup=!1,Object(l["b"])({type:p["e"].setRefreshRate,msg:e})},onLogoutClick:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s["a"].confirm({title:"提示",message:"确定退出登录吗?"}).then(Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].logout();case 2:if(n=t.sent,!n){t.next=6;break}return t.next=6,e.$router.replace(u["a"].task);case 6:case"end":return t.stop()}}),t)})))).catch((function(){}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})))()}}}),m=f,h=n("2877"),k=Object(h["a"])(m,r,a,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-46861854.37ad6238.js.map