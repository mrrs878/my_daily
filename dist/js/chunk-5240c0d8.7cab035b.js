(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5240c0d8"],{"7e88":function(e,t,n){"use strict";n.r(t);var a,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container footer"},[n("van-pull-refresh",{on:{refresh:e.onTaskRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[n("div",{staticStyle:{overflow:"scroll"}},[e._l(e.tasks,(function(t,a){return n("van-swipe-cell",{key:t.ID,staticClass:"task-cell",attrs:{disabled:t.status===e.TASK_STATUS.cancel||t.status===e.TASK_STATUS.failed},on:{open:e.onSwipeCellOpen,close:e.onSwipeCellClose}},[n("van-cell",{attrs:{title:t.title,value:t.detail,center:"",clickable:""},on:{click:function(t){return e.onTaskClick(a)}}},[n("van-icon",{staticClass:"task-status-icon",class:{active:2===t.status},attrs:{slot:"icon",name:"thumb-circle-o",size:"16"},slot:"icon"})],1),n("template",{slot:"right"},[t.status!==e.TASK_STATUS.cancel?n("van-button",{attrs:{square:"",type:"danger",text:"取消"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.cancel,t.ID)}}}):e._e(),t.status!==e.TASK_STATUS.running?n("van-button",{attrs:{square:"",type:"info",text:"进行中"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.running,t.ID)}}}):e._e(),t.status!==e.TASK_STATUS.complete?n("van-button",{attrs:{square:"",type:"primary",text:"已完成"},on:{click:function(n){return e.onSwipeRightClick(e.TASK_STATUS.complete,t.ID)}}}):e._e()],1)],2)})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tasks.length,expression:"tasks.length === 0"}],staticClass:"empty"},[e._v("空空如也~")])],2)]),n("van-button",{staticClass:"position-bottom footer",attrs:{type:"primary",size:"large"},on:{click:e.onAddTaskClick}},[e._v("添加任务")])],1)},i=[],c=(n("99af"),n("b0c0"),n("5530")),r=n("ade3"),o=(n("96cf"),n("1da1")),u=n("2b0e"),l=n("ea47"),p=(n("3647"),n("c36e")),d=(n("4467"),n("d399")),f=(n("e7e5"),n("473d")),k=(n("6d73"),n("2241")),S=(n("e17f"),n("4862")),T=n("93f3"),w=n("afbc"),h=n("2f62"),m=new Date,g=u["a"].extend({name:"task",data:function(){return{isLoading:!1,timerId:0,defaultDate:m,minDate:new Date(m.getTime()-2592e6),maxDate:m,isCalendar:!1,isSwiping:!1,TASK_STATUS:T["h"]}},methods:{onTaskRefresh:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S["a"].viewTasks();case 2:n=t.sent,Object(d["a"])(n.code===T["g"].success?"刷新成功":n.msg),e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},onTaskClick:function(e){this.isSwiping?this.isSwiping=!1:this.$router.push("".concat(w["a"].taskDetail,"/").concat(e))},onSwipeCellOpen:function(){this.isSwiping=!0},onSwipeCellClose:function(){this.isSwiping=!1},onAddTaskClick:function(){this.$router.push(w["a"].addTask)},onSwipeRightClick:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k["a"].confirm({title:T["j"][e]});case 2:return n.next=4,S["a"].updateTaskStatus(t,e);case 4:a=n.sent,Object(d["a"])(a.code===T["g"].success?"更新成功":a.msg);case 6:case"end":return n.stop()}}),n)})))()},getTasks:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S["a"].viewTasks();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},created:function(){this.getTasks()},components:(a={},Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,p["a"].name,p["a"]),Object(r["a"])(a,f["a"].name,f["a"]),a),computed:Object(c["a"])({},Object(h["b"])(["tasks"]))}),v=g,b=(n("8b20"),n("2877")),A=Object(b["a"])(v,s,i,!1,null,"68c6dec6",null);t["default"]=A.exports},"8b20":function(e,t,n){"use strict";var a=n("ed35"),s=n.n(a);s.a},ed35:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5240c0d8.7cab035b.js.map