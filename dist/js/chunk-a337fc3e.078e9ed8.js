(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a337fc3e"],{3354:function(e,t,n){},5356:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("van-nav-bar",{attrs:{"left-text":"消息中心","left-arrow":"","right-text":e.rightText},on:{"click-left":e.onNavBarClickLeft,"click-right":e.onNavBarClickRight}}),n("van-pull-refresh",{on:{refresh:e.onMsgRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[n("div",{staticStyle:{overflow:"scroll"}},[e._l(e.message,(function(t){return n("van-swipe-cell",{key:t.ID,staticClass:"task-cell",on:{open:e.onSwipeCellOpen,close:e.onSwipeCellClose},scopedSlots:e._u([{key:"left",fn:function(){return[n("van-button",{directives:[{name:"show",rawName:"v-show",value:0===t.status,expression:"item.status === 0"}],attrs:{square:"",type:"primary",text:"置为已读"},on:{click:function(n){return e.onReadMsgBtnClick(t.ID)}}})]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(n){return e.onDelMsgBtnClick(t.ID)}}})]},proxy:!0}],null,!0)},[n("van-cell",{attrs:{title:t.title,value:t.detail,center:"",clickable:""},on:{click:function(n){return e.onMsgClick(t.ID)}}},[n("div",{staticClass:"cell-icon",class:{active:0===t.status},attrs:{slot:"icon"},slot:"icon"})])],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.message.length,expression:"message.length === 0"}],staticClass:"empty"},[e._v("空空如也~")])],2)])],1)},i=[],a=(n("4de4"),n("5530")),r=(n("96cf"),n("1da1")),l=n("2b0e"),o=n("2f62"),c=n("d399"),u=(n("e7e5"),n("82ed")),f=l["a"].extend({name:"messageCenter",data:function(){return{isLoading:!1,isSwiping:!1}},methods:{onMsgRefresh:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].sendMsg({label:"GetAll",data:JSON.stringify({user_id:e.user.ID})}),Object(c["a"])("刷新成功");case 2:case"end":return t.stop()}}),t)})))()},onSwipeCellOpen:function(){},onSwipeCellClose:function(){},onMsgClick:function(e){},onReadMsgBtnClick:function(e){u["a"].sendMsg({label:"ReadOne",data:JSON.stringify({ID:e,user_id:this.user.ID})})},onDelMsgBtnClick:function(e){u["a"].sendMsg({label:"RemoveOne",data:JSON.stringify({ID:e,user_id:this.user.ID})})},onNavBarClickRight:function(){u["a"].sendMsg({label:"ReadAll",data:JSON.stringify({status:1,user_id:this.user.ID})})}},computed:Object(a["a"])({},Object(o["b"])(["message","user"]),{rightText:function(){var e=this.message.filter((function(e){return 0===e.status}));return 0===e.length?"":"全部已读"}})}),d=f,g=(n("9b87"),n("2877")),v=Object(g["a"])(d,s,i,!1,null,"740f8786",null);t["default"]=v.exports},"9b87":function(e,t,n){"use strict";var s=n("3354"),i=n.n(s);i.a}}]);
//# sourceMappingURL=chunk-a337fc3e.078e9ed8.js.map