(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf65a3f0"],{"0fee":function(t,e,n){},3647:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("5c56"),n("0fee")},"86b3":function(t,e,n){},b65e:function(t,e,n){"use strict";var a=n("86b3"),i=n.n(a);i.a},ea47:function(t,e,n){"use strict";var a=n("2638"),i=n.n(a),s=n("d282"),c=n("ba31"),r=n("b1d2"),o=n("7744"),u=n("34e9"),l=Object(s["a"])("panel"),f=l[0],d=l[1];function p(t,e,n,a){var s=function(){return[n.header?n.header():t(o["a"],{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:d("header-value")},class:d("header")}),t("div",{class:d("content")},[n.default&&n.default()]),n.footer&&t("div",{class:[d("footer"),r["d"]]},[n.footer()])]};return t(u["a"],i()([{class:d(),scopedSlots:{default:s}},Object(c["b"])(a,!0)]))}p.props={icon:String,desc:String,title:String,status:String},e["a"]=f(p)},fbfa:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("van-pull-refresh",{attrs:{disabled:""===t.user.token},on:{refresh:t.onHabitRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("div",{staticStyle:{overflow:"scroll"}},[t._l(t.habits,(function(e,a){return n("van-swipe-cell",{key:e.ID,staticClass:"task-cell",attrs:{disabled:e.status===t.HABIT_STATUS.cancel||e.status===t.HABIT_STATUS.failed},on:{open:t.onSwipeCellOpen,close:t.onSwipeCellClose}},[n("van-cell",{attrs:{title:e.title,value:e.detail,center:"",clickable:""},on:{click:function(e){return t.onHabitClick(a)}}},[n("van-icon",{staticClass:"task-status-icon",class:{active:2===e.status},attrs:{slot:"icon",name:"thumb-circle-o",size:"16"},slot:"icon"})],1),n("template",{slot:"right"},[e.status!==t.HABIT_STATUS.cancel?n("van-button",{attrs:{square:"",type:"danger",text:"取消"},on:{click:function(n){return t.onSwipeRightClick(t.HABIT_STATUS.cancel,e.ID)}}}):t._e(),e.status!==t.HABIT_STATUS.running?n("van-button",{attrs:{square:"",type:"info",text:"进行中"},on:{click:function(n){return t.onSwipeRightClick(t.HABIT_STATUS.running,e.ID)}}}):t._e(),e.status!==t.HABIT_STATUS.complete?n("van-button",{attrs:{square:"",type:"primary",text:"已完成"},on:{click:function(n){return t.onSwipeRightClick(t.HABIT_STATUS.complete,e.ID)}}}):t._e()],1)],2)})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.habits.length,expression:"habits.length === 0"}],staticClass:"empty"},[t._v("空空如也~")])],2)]),n("van-button",{staticClass:"position-bottom footer",attrs:{type:"primary",size:"large"},on:{click:t.onAddHabitClick}},[t._v("添加习惯")])],1)},i=[],s=(n("99af"),n("b0c0"),n("5530")),c=n("ade3"),r=(n("96cf"),n("1da1")),o=n("2b0e"),u=n("afbc"),l=n("2f62"),f=n("a317"),d=n("93f3"),p=n("2241"),b=(n("e17f"),n("ea47")),h=(n("3647"),n("d399")),v=(n("e7e5"),o["a"].extend({name:"habit",data:function(){return{isLoading:!1,isSwiping:!1,HABIT_STATUS:d["d"]}},methods:{onHabitRefresh:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].viewHabits();case 2:n=e.sent,Object(h["a"])(n.code===d["h"].success?"刷新成功":n.msg),t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},onSwipeCellOpen:function(){this.isSwiping=!0},onSwipeCellClose:function(){this.isSwiping=!1},onHabitClick:function(t){this.isSwiping?this.isSwiping=!1:this.$router.push("".concat(u["a"].habitDetail,"/").concat(t))},onSwipeRightClick:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,p["a"].confirm({title:d["k"][t]});case 2:return n.next=4,f["a"].updateHabitStatus(e,t);case 4:a=n.sent,Object(h["a"])(a.code===d["h"].success?"更新成功":a.msg);case 6:case"end":return n.stop()}}),n)})))()},onAddHabitClick:function(){this.$router.push(u["a"].addHabit)},getHabits:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].viewHabits();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},created:function(){this.getHabits()},components:Object(c["a"])({},b["a"].name,b["a"]),computed:Object(s["a"])({},Object(l["b"])(["habits","user"]))})),S=v,g=(n("b65e"),n("2877")),w=Object(g["a"])(S,a,i,!1,null,"5dc8f708",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-bf65a3f0.f5289e18.js.map