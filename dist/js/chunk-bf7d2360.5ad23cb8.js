(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf7d2360"],{"633d":function(e,t,n){"use strict";n("d3b7"),n("96cf");var a=n("1da1"),r=n("79f6"),i=n("0889"),c="".concat(r["a"],"/auth"),o=function(e){return i["a"].post("".concat(c,"/login"),e)},s=function(e){return i["a"].post("".concat(c,"/register"),e)},l=n("d399"),u=(n("e7e5"),n("93f3")),f=n("0613"),d=n("fc60"),p=n("2de2"),h=n("458f");t["a"]={login:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o(e);case 3:if(n=t.sent,Object(l["a"])(n.msg),n.code!==u["e"].success){t.next=9;break}return t.next=8,f["a"].dispatch(d["a"].updateUser,n.data);case 8:localStorage.setItem(p["a"].tokenName,n.data.token);case 9:return t.abrupt("return",Promise.resolve(n.code===u["e"].success));case 12:return t.prev=12,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",Promise.resolve(!1));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},logout:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem(p["a"].tokenName),e.next=3,f["a"].dispatch(d["a"].updateUser,new h["a"]);case 3:return e.next=5,f["a"].dispatch(d["a"].updateTasks,[]);case 5:return e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})))()},register:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e);case 3:return n=t.sent,Object(l["a"])(n.msg),t.abrupt("return",Promise.resolve(n.code===u["e"].success));case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",Promise.resolve(!1));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},b258:function(e,t,n){},c2b4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("van-nav-bar",{attrs:{"left-text":"设置","left-arrow":""},on:{"click-left":e.onNavBarClickLeft}}),n("van-cell",{attrs:{title:"清除缓存","is-link":""},on:{click:e.onCleanCacheClick}}),n("br"),n("br"),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.onLogoutClick}},[e._v("退出登录")])],1)},r=[],i=(n("ac1f"),n("5319"),n("96cf"),n("1da1")),c=n("2b0e"),o=n("2241"),s=(n("e17f"),n("633d")),l=n("afbc"),u=c["a"].extend({name:"setting",methods:{cleanCache:function(){},onCleanCacheClick:function(){o["a"].confirm({title:"提示",message:"确定清除缓存吗?"}).then(this.cleanCache).catch((function(){}))},onLogoutClick:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{o["a"].confirm({title:"提示",message:"确定退出登录吗?"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].logout();case 2:if(n=t.sent,!n){t.next=6;break}return t.next=6,e.$router.replace(l["a"].task);case 6:case"end":return t.stop()}}),t)})))).catch((function(){}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})))()}}}),f=u,d=n("2877"),p=Object(d["a"])(f,a,r,!1,null,null,null);t["default"]=p.exports},d399:function(e,t,n){"use strict";var a=n("c31d"),r=n("2b0e"),i=n("d282"),c=n("a142"),o=0;function s(e){e?(o||document.body.classList.add("van-toast--unclickable"),o++):(o--,o||document.body.classList.remove("van-toast--unclickable"))}var l=n("6605"),u=n("ad06"),f=n("543e"),d=Object(i["a"])("toast"),p=d[0],h=d[1],m=p({mixins:[Object(l["a"])()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var e=this.value&&this.forbidClick;this.clickable!==e&&(this.clickable=e,s(e))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var e=this.$createElement,t=this.icon,n=this.type,a=this.iconPrefix,r=this.loadingType,i=t||"success"===n||"fail"===n;return i?e(u["a"],{class:h("icon"),attrs:{classPrefix:a,name:t||n}}):"loading"===n?e(f["a"],{class:h("loading"),attrs:{type:r}}):void 0},genMessage:function(){var e=this.$createElement,t=this.type,n=this.message;if(Object(c["b"])(n)&&""!==n)return"html"===t?e("div",{class:h("text"),domProps:{innerHTML:n}}):e("div",{class:h("text")},[n])}},render:function(){var e,t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[h([this.position,(e={},e[this.type]=!this.icon,e)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),v=n("092d"),g={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},b={},k=[],y=!1,C=Object(a["a"])({},g);function O(e){return Object(c["d"])(e)?e:{message:e}}function x(){if(c["f"])return{};if(!k.length||y){var e=new(r["a"].extend(m))({el:document.createElement("div")});e.$on("input",(function(t){e.value=t})),k.push(e)}return k[k.length-1]}function w(e){return Object(a["a"])({},e,{overlay:e.mask||e.overlay,mask:void 0,duration:void 0})}function j(e){void 0===e&&(e={});var t=x();return t.value&&t.updateZIndex(),e=O(e),e=Object(a["a"])({},C,{},b[e.type||C.type],{},e),e.clear=function(){t.value=!1,e.onClose&&e.onClose(),y&&!c["f"]&&t.$on("closed",(function(){clearTimeout(t.timer),k=k.filter((function(e){return e!==t})),Object(v["a"])(t.$el),t.$destroy()}))},Object(a["a"])(t,w(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout((function(){t.clear()}),e.duration)),t}var S=function(e){return function(t){return j(Object(a["a"])({type:e},O(t)))}};["loading","success","fail"].forEach((function(e){j[e]=S(e)})),j.clear=function(e){k.length&&(e?(k.forEach((function(e){e.clear()})),k=[]):y?k.shift().clear():k[0].clear())},j.setDefaultOptions=function(e,t){"string"===typeof e?b[e]=t:Object(a["a"])(C,e)},j.resetDefaultOptions=function(e){"string"===typeof e?b[e]=null:(C=Object(a["a"])({},g),b={})},j.allowMultiple=function(e){void 0===e&&(e=!0),y=e},j.install=function(){r["a"].use(m)},r["a"].prototype.$toast=j;t["a"]=j},e7e5:function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("b258")}}]);
//# sourceMappingURL=chunk-bf7d2360.5ad23cb8.js.map