{"version":3,"sources":["webpack:///./src/api/auth.ts","webpack:///./src/module/auth.ts","webpack:///./src/views/profile/Setting.vue?337f","webpack:///./src/views/profile/Setting.vue","webpack:///./src/views/profile/Setting.vue?9f9b","webpack:///./src/views/profile/Setting.vue?d64a","webpack:///./node_modules/vant/es/toast/lock-click.js","webpack:///./node_modules/vant/es/toast/Toast.js","webpack:///./node_modules/vant/es/toast/index.js","webpack:///./node_modules/vant/es/toast/style/index.js"],"names":["LOGIN_API","data","ajax","post","login","res","msg","code","success","store","dispatch","updateUser","localStorage","setItem","tokenName","token","Promise","resolve","console","log","logout","removeItem","User","updateTasks","register","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onNavBarClickLeft","onCleanCacheClick","onLogoutClick","_v","staticRenderFns","extend","name","methods","cleanCache","confirm","title","message","then","catch","$router","replace","task","e","component","lockCount","lockClick","lock","document","body","classList","add","remove","_createNamespace","create","createComponent","bem","mixins","props","icon","String","className","iconPrefix","loadingType","forbidClick","Boolean","closeOnClick","Number","type","default","position","transition","lockScroll","clickable","mounted","toggleClickable","destroyed","watch","value","onClick","close","onAfterEnter","$emit","onOpened","onAfterLeave","genIcon","h","hasIcon","genMessage","_ref","arguments","defaultOptions","mask","overlay","onClose","duration","undefined","getContainer","overlayStyle","closeOnClickOverlay","defaultOptionsMap","queue","multiple","currentOptions","parseOptions","createInstance","length","toast","el","createElement","$on","push","transformOptions","options","updateZIndex","clear","clearTimeout","timer","filter","item","$el","$destroy","setTimeout","forEach","method","all","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","use","prototype","$toast"],"mappings":"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","file":"js/chunk-bf7d2360.5ad23cb8.js","sourcesContent":["import { BASE_API } from './index'\r\nimport { AjaxResponseI, LoginReqI } from '@/interface/ajax'\r\nimport ajax from '@/util/ajax'\r\nimport { UserI } from '@/interface/model'\r\n\r\nconst LOGIN_API = `${BASE_API}/auth`\r\n\r\nexport const LOGIN = (data: LoginReqI): Promise<AjaxResponseI<UserI>> => ajax.post(`${ LOGIN_API }/login`, data)\r\nexport const REGISTER = (data: LoginReqI): Promise<AjaxResponseI<UserI>> => ajax.post(`${ LOGIN_API }/register`, data)\r\n","import { LoginReqI } from '@/interface/ajax'\r\nimport { LOGIN, REGISTER } from '@/api/auth'\r\nimport { Toast } from 'vant'\r\nimport { RES_CODE } from '@/constant'\r\nimport store from '@/store'\r\nimport { ACTIONS_E } from '@/store/actions'\r\nimport CONFIG from '@/config'\r\nimport User from '@/models/User'\r\n\r\nexport default {\r\n  async login (data: LoginReqI) {\r\n    try {\r\n      const res = await LOGIN(data)\r\n      Toast(res.msg)\r\n      if (res.code === RES_CODE.success) {\r\n        await store.dispatch(ACTIONS_E.updateUser, res.data)\r\n        localStorage.setItem(CONFIG.tokenName, res.data.token)\r\n      }\r\n      return Promise.resolve(res.code === RES_CODE.success)\r\n    } catch (e) {\r\n      console.log(e)\r\n      return Promise.resolve(false)\r\n    }\r\n  },\r\n  async logout () {\r\n    localStorage.removeItem(CONFIG.tokenName)\r\n    await store.dispatch(ACTIONS_E.updateUser, new User())\r\n    await store.dispatch(ACTIONS_E.updateTasks, [])\r\n    return Promise.resolve(true)\r\n  },\r\n  async register (data: LoginReqI) {\r\n    try {\r\n      const res = await REGISTER(data)\r\n      Toast(res.msg)\r\n      return Promise.resolve(res.code === RES_CODE.success)\r\n    } catch (e) {\r\n      console.log(e)\r\n      return Promise.resolve(false)\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"left-text\":\"设置\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onNavBarClickLeft}}),_c('van-cell',{attrs:{\"title\":\"清除缓存\",\"is-link\":\"\"},on:{\"click\":_vm.onCleanCacheClick}}),_c('br'),_c('br'),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.onLogoutClick}},[_vm._v(\"退出登录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport { Dialog } from 'vant'\r\nimport AuthModule from '@/module/auth'\r\nimport { ROUTES_MAP } from '@/router'\r\n\r\nexport default Vue.extend({\r\n  name: 'setting',\r\n  methods: {\r\n    cleanCache () {},\r\n    onCleanCacheClick () {\r\n      Dialog.confirm({\r\n        title: '提示',\r\n        message: '确定清除缓存吗?'\r\n      }).then(this.cleanCache).catch(() => {})\r\n    },\r\n    async onLogoutClick () {\r\n      try {\r\n        Dialog.confirm({\r\n          title: '提示',\r\n          message: '确定退出登录吗?'\r\n        }).then(async () => {\r\n          const res = await AuthModule.logout()\r\n          if (res) await this.$router.replace(ROUTES_MAP.task)\r\n        }).catch(() => {})\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=d79ea5e0&\"\nimport script from \"./Setting.vue?vue&type=script&lang=ts&\"\nexport * from \"./Setting.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var lockCount = 0;\nexport function lockClick(lock) {\n  if (lock) {\n    if (!lockCount) {\n      document.body.classList.add('van-toast--unclickable');\n    }\n\n    lockCount++;\n  } else {\n    lockCount--;\n\n    if (!lockCount) {\n      document.body.classList.remove('van-toast--unclickable');\n    }\n  }\n}","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n          type = this.type,\n          iconPrefix = this.iconPrefix,\n          loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n          message = this.message;\n\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, {}, defaultOptionsMap[options.type || currentOptions.type], {}, options);\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../index.css';"],"sourceRoot":""}